{"version":3,"file":"main.fda0035271e67f25fe4a.hot-update.js","mappings":"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","sources":["webpack://web-app/./src/index.js","webpack://web-app/webpack/runtime/getFullHash"],"sourcesContent":["import Matter, { Body, World } from \"matter-js\";\r\nimport \"./index.scss\";\r\n\r\nconst windowCenter = window.innerWidth / 2;\r\n\r\n// module aliases\r\nconst Engine = Matter.Engine,\r\n  Render = Matter.Render,\r\n  Runner = Matter.Runner,\r\n  Bodies = Matter.Bodies,\r\n  Events = Matter.Events,\r\n  Mouse = Matter.Mouse,\r\n  Composite = Matter.Composite,\r\n  Composites = Matter.Composites,\r\n  MouseConstraint = Matter.MouseConstraint;\r\n\r\n// create an engine\r\nconst engine = Engine.create();\r\nconst world = engine.world;\r\n\r\n// create a renderer\r\nconst render = Render.create({\r\n  element: document.body,\r\n  engine: engine,\r\n  options: {\r\n    width: window.innerWidth,\r\n    height: window.innerHeight - 10,\r\n    wireframes: false,\r\n  },\r\n});\r\n\r\nworld.gravity.y = 1.6;\r\n\r\n// run the renderer\r\nRender.run(render);\r\n\r\nconst runner = Runner.create();\r\nRunner.run(runner, engine);\r\n\r\nconst polygons = [];\r\nconst category1 = 0x0001;\r\nconst category2 = 0x0002;\r\nconst circles = [];\r\nconst startFromX = 1002;\r\nconst startFromY = 200;\r\nconst gapY = 45;\r\nconst gapX = 37.5;\r\n\r\nconst plinkos = 13;\r\nconst ways = plinkos - 2;\r\n\r\nfor (let i = 0; i < plinkos; i++) {\r\n  const item = Bodies.rectangle(775 + i * 38, 850, 70, 1, {\r\n    isStatic: true,\r\n    angle: Math.PI * 0.5,\r\n  });\r\n\r\n  polygons.push(item);\r\n}\r\n\r\n// polygons.push(\r\n//   Bodies.rectangle(windowCenter, window.innerHeight, windowCenter, 1, {\r\n//     isStatic: true,\r\n//   })\r\n// );\r\n\r\n// plinkos\r\nfor (let i = 0; i < plinkos; i++) {\r\n  const startY = i * gapY + startFromY;\r\n  if (i !== 0) {\r\n    const startCountFromX = -i / 2;\r\n    for (let j = 0; j <= i; j++) {\r\n      const item = Bodies.circle(\r\n        (startCountFromX + j) * gapX + startFromX,\r\n        startY,\r\n        5,\r\n        {\r\n          isStatic: true,\r\n          friction: 1,\r\n          restitution: 1,\r\n          density: 1,\r\n          collisionFilter: {\r\n            category: category1,\r\n          },\r\n          rowIndex: i,\r\n          label: \"plinko\",\r\n          render: {\r\n            fillStyle: \"white\",\r\n            lineWidth: 0,\r\n          },\r\n        }\r\n      );\r\n\r\n      circles.push(item);\r\n    }\r\n  }\r\n}\r\n\r\nComposite.add(world, circles);\r\nComposite.add(world, polygons);\r\n// Composite.add(world, stack);\r\n\r\nconst mouse = Mouse.create(render.canvas);\r\nconst mouseConstraint = MouseConstraint.create(engine, {\r\n  mouse: mouse,\r\n  constraint: {\r\n    stiffness: 0.2,\r\n  },\r\n});\r\n\r\nconst handlePlink = () => {\r\n  let resWays = [];\r\n\r\n  let result = 6;\r\n\r\n  for (let i = 0; i < ways; i++) {\r\n    resWays.push(i < result ? \"+\" : \"-\");\r\n  }\r\n\r\n  Composite.add(\r\n    world,\r\n    Bodies.circle(1000, 200, 14, {\r\n      isStatic: false,\r\n      type: \"body\",\r\n      friction: 1,\r\n      restitution: 0.8,\r\n      density: 0.1,\r\n      label: \"ball\",\r\n      resWays: shuffle(resWays),\r\n      collisionFilter: {\r\n        mask: category1,\r\n        category: category2,\r\n      },\r\n      render: {\r\n        fillStyle: \"#13bccf\",\r\n        lineWidth: 0,\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nEvents.on(mouseConstraint, \"mousedown\", handlePlink);\r\n\r\nEvents.on(engine, \"collisionStart\", function (event) {\r\n  const pairs = event.pairs;\r\n  const { bodyA } = pairs[0];\r\n\r\n  bodyA.render.fillStyle = \"#13bccf\";\r\n});\r\n\r\nEvents.on(engine, \"collisionActive\", function (event) {\r\n  const pairs = event.pairs;\r\n  const { bodyA } = pairs[0];\r\n\r\n  bodyA.render.fillStyle = \"#13bccf\";\r\n});\r\n\r\nEvents.on(engine, \"collisionEnd\", function (event) {\r\n  const pairs = event.pairs;\r\n\r\n  for (let i = 0; i < pairs.length; i++) {\r\n    const pair = pairs[i];\r\n    const { bodyA, bodyB } = pair;\r\n    let ballBody, plinko;\r\n\r\n    if (bodyA.label === \"ball\") {\r\n      ballBody = bodyA;\r\n    }\r\n    if (bodyA.label === \"plinko\") {\r\n      plinko = bodyA;\r\n    }\r\n    if (bodyB.label === \"ball\") {\r\n      ballBody = bodyB;\r\n    }\r\n    if (bodyB.label === \"plinko\") {\r\n      plinko = bodyB;\r\n    }\r\n\r\n    if (ballBody && plinko) {\r\n      const angleAbsolute =\r\n        plinko.position.y - (ballBody.position.y + ballBody.circleRadius) - 3;\r\n\r\n      if (angleAbsolute >= 0) {\r\n        const resWays = ballBody.resWays;\r\n        const plinkoRow = plinko.rowIndex;\r\n        if (resWays) {\r\n          Body.setVelocity(ballBody, {\r\n            x: resWays[plinkoRow - 2] === \"+\" ? 1.5 : -1.5,\r\n            y: -2,\r\n          });\r\n        }\r\n      }\r\n      plinko.render.fillStyle = \"white\";\r\n    }\r\n  }\r\n});\r\n\r\nRender.lookAt(render, Composite.allBodies(world));\r\n\r\nComposite.add(world, mouseConstraint);\r\n\r\nrender.mouse = mouse;\r\n\r\nfunction shuffle(array) {\r\n  let currentIndex = array.length,\r\n    randomIndex;\r\n\r\n  // While there remain elements to shuffle.\r\n  while (currentIndex != 0) {\r\n    // Pick a remaining element.\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex--;\r\n\r\n    // And swap it with the current element.\r\n    [array[currentIndex], array[randomIndex]] = [\r\n      array[randomIndex],\r\n      array[currentIndex],\r\n    ];\r\n  }\r\n\r\n  return array;\r\n}\r\n","__webpack_require__.h = () => (\"e3513b8fe85c91f4ffe4\")"],"names":["Matter","Body","World","windowCenter","window","innerWidth","Engine","Render","Runner","Bodies","Events","Mouse","Composite","Composites","MouseConstraint","engine","create","world","render","element","document","body","options","width","height","innerHeight","wireframes","gravity","y","run","runner","polygons","category1","category2","circles","startFromX","startFromY","gapY","gapX","plinkos","ways","i","item","rectangle","isStatic","angle","Math","PI","push","startY","startCountFromX","j","circle","friction","restitution","density","collisionFilter","category","rowIndex","label","fillStyle","lineWidth","add","mouse","canvas","mouseConstraint","constraint","stiffness","handlePlink","resWays","result","type","shuffle","mask","on","event","pairs","bodyA","length","pair","bodyB","ballBody","plinko","angleAbsolute","position","circleRadius","plinkoRow","setVelocity","x","lookAt","allBodies","array","currentIndex","randomIndex","floor","random"],"sourceRoot":""}